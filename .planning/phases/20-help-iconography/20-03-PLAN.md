---
phase: 20-help-iconography
plan: 03
type: execute
wave: 2
depends_on:
  - 20-01
files_modified:
  - src/style.css
  - src/ui/tabs/CollectionTab.tsx
  - src/ui/tabs/MaisonTab.tsx
  - src/ui/tabs/NostalgiaTab.tsx
  - src/ui/tabs/WorkshopTab.tsx
autonomous: true

must_haves:
  truths:
    - "Lock cues use a consistent lock icon in the UI"
    - "Prestige/reset actions use a consistent prestige icon in the UI"
  artifacts:
    - path: "src/ui/icons/coreIcons.tsx"
      provides: "LockIcon and PrestigeIcon"
    - path: "src/ui/tabs/CollectionTab.tsx"
      provides: "Lock icon in enjoyment gate badge"
    - path: "src/ui/tabs/WorkshopTab.tsx"
      provides: "Prestige icon on Atelier reset CTA"
    - path: "src/ui/tabs/MaisonTab.tsx"
      provides: "Prestige icon on Maison reset CTA"
    - path: "src/ui/tabs/NostalgiaTab.tsx"
      provides: "Prestige icon on Nostalgia reset CTA and lock icon in unlock store"
  key_links:
    - from: "src/ui/tabs/CollectionTab.tsx"
      to: "src/ui/icons/coreIcons.tsx"
      via: "LockIcon import"
      pattern: "LockIcon"
    - from: "src/ui/tabs/WorkshopTab.tsx"
      to: "src/ui/icons/coreIcons.tsx"
      via: "PrestigeIcon import"
      pattern: "PrestigeIcon"
---

<objective>
Replace ad-hoc lock/prestige glyphs with the shared icon wrappers so help/lock/prestige cues are visually consistent across tabs.

Purpose: Satisfy POLISH-05 with minimal UI change risk.
Output: Lock and prestige icons in the key UI surfaces (gates and reset CTAs).
</objective>

<execution_context>
@~/.opencode/get-shit-done/workflows/execute-plan.md
@~/.opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@.planning/phases/20-help-iconography/20-CONTEXT.md
@.planning/phases/20-help-iconography/20-RESEARCH.md

@src/ui/icons/coreIcons.tsx
@src/ui/tabs/CollectionTab.tsx
@src/ui/tabs/WorkshopTab.tsx
@src/ui/tabs/MaisonTab.tsx
@src/ui/tabs/NostalgiaTab.tsx
@src/style.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace CSS lock glyph with LockIcon in purchase gate</name>
  <files>src/ui/tabs/CollectionTab.tsx
src/style.css</files>
  <action>
Update the enjoyment gate badge in `src/ui/tabs/CollectionTab.tsx`:

- Replace the `<span className="purchase-lock-icon" ... />` with `<LockIcon ... />`.
- Keep the existing surrounding markup and `data-testid` stable.
- Set the icon size to match the old glyph (roughly 12-14px) and ensure it inherits `currentColor`.

Update `src/style.css`:
- Remove or stop relying on the `.purchase-lock-icon` pseudo-element glyph.
- Add a small shared class (e.g. `.inline-icon`) used for icon sizing/alignment in pill badges and buttons (inline-flex, vertical alignment).
  </action>
  <verify>pnpm -s run typecheck</verify>
  <done>Purchase gate badge uses an inline SVG lock icon (via `LockIcon`) and still renders correctly in both themes.</done>
</task>

<task type="auto">
  <name>Task 2: Add PrestigeIcon to reset CTAs across prestige tabs</name>
  <files>src/ui/tabs/WorkshopTab.tsx
src/ui/tabs/MaisonTab.tsx
src/ui/tabs/NostalgiaTab.tsx
src/style.css</files>
  <action>
Add the shared `PrestigeIcon` to the primary reset buttons:

- `src/ui/tabs/WorkshopTab.tsx`: the non-armed CTA button (currently "Reset atelier")
- `src/ui/tabs/MaisonTab.tsx`: the non-armed CTA button (currently "Prestige atelier")
- `src/ui/tabs/NostalgiaTab.tsx`: the non-armed CTA button (currently "Prestige for Nostalgia")

Implementation rules:
- Keep button labels unchanged (text remains for accessibility).
- Place the icon at the start of the button label with consistent spacing.
- Use the shared `.inline-icon` (or equivalent) so sizing/alignment matches across tabs.

Also update the Nostalgia unlock store lock status:
- When an unlock is locked (the "Locked" status), render `LockIcon` next to the status text inside `.nostalgia-unlock-status`.
  </action>
  <verify>pnpm -s run typecheck</verify>
  <done>Workshop/Maison/Nostalgia reset buttons share a consistent prestige icon, and Nostalgia locked unlocks show the shared lock icon.</done>
</task>

</tasks>

<verification>
- `pnpm -s run typecheck`
- `pnpm -s run build`
</verification>

<success_criteria>
- No remaining `.purchase-lock-icon` glyph is relied on for the lock cue.
- Reset/prestige CTAs in Workshop, Maison, and Nostalgia show the same prestige icon.
- Lock cue in Nostalgia unlock store uses the same lock icon.
</success_criteria>

<output>
After completion, create `.planning/phases/20-help-iconography/20-03-SUMMARY.md`
</output>
