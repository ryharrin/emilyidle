---
phase: 18-codebase-refactor
plan: 9
type: execute
wave: 5
depends_on: ["18-03", "18-04", "18-05"]
files_modified:
  - src/game/state.ts
  - src/game/model/types.ts
  - src/game/model/state.ts
  - src/game/data/items.ts
  - src/game/data/upgrades.ts
  - src/game/data/milestones.ts
  - src/game/data/setBonuses.ts
  - src/game/selectors/index.ts
  - src/game/actions/index.ts
autonomous: true

must_haves:
  truths:
    - "No dead/unused code remains from the game module refactor (lint passes)"
    - "Cleanup does not change gameplay behavior or persistence contracts"
  artifacts:
    - path: "src/game/state.ts"
      provides: "Facade surface with no unused legacy leftovers"
  key_links:
    - from: "src/game/state.ts"
      to: "src/game/selectors/index.ts"
      via: "re-export"
      pattern: "export\\s+\\*\\s+from\\s+\\\"\\./selectors\\\""
---

<objective>
Clean up any dead/unused code left behind in the game module refactor and ensure lint is green.

Purpose: Keep the new module boundaries tidy and avoid lingering unused imports/helpers.
Output: Cleaned-up game module code with lint passing.
</objective>

<execution_context>
@~/.opencode/get-shit-done/workflows/execute-plan.md
@~/.opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@.planning/phases/18-codebase-refactor/18-CONTEXT.md
@.planning/phases/18-codebase-refactor/18-RESEARCH.md

@src/game/state.ts
@src/game/model/types.ts
@src/game/model/state.ts
@src/game/data/items.ts
@src/game/data/upgrades.ts
@src/game/data/milestones.ts
@src/game/data/setBonuses.ts
@src/game/selectors/index.ts
@src/game/actions/index.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove dead/unused code introduced by moves and fix lint violations</name>
  <files>
src/game/state.ts
src/game/model/types.ts
src/game/model/state.ts
src/game/data/items.ts
src/game/data/upgrades.ts
src/game/data/milestones.ts
src/game/data/setBonuses.ts
src/game/selectors/index.ts
src/game/actions/index.ts
  </files>
  <action>
- Delete or inline any now-unused helpers left behind from the split (unused constants/functions/imports).
- Remove any duplicated logic created by the state/data/actions extraction.
- Prefer small, mechanical cleanups; do not change gameplay behavior unless it is an obvious correctness bug discovered during refactor.
- Limit edits to lint-failing files; stop once `pnpm run lint` is green.
- Timebox: if lint requires non-trivial edits in more than 5 of the listed files, stop and create a follow-up plan to finish.
- If lint failures point to files outside this list, stop and create a follow-up plan scoped to those files.
  </action>
  <verify>pnpm run lint</verify>
  <done>
- `pnpm run lint` succeeds with no new eslint/prettier issues in the refactor surfaces.
  </done>
</task>

</tasks>

<verification>
- `pnpm run lint`
</verification>

<success_criteria>
- Game module refactor surfaces have no unused code or dead imports.
- Lint passes without introducing gameplay or persistence changes.
</success_criteria>

<output>
After completion, create `.planning/phases/18-codebase-refactor/18-09-SUMMARY.md`
</output>
