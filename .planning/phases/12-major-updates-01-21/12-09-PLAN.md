---
phase: 12-major-updates-01-21
plan: 09
type: execute
---

<objective>
Improve prestige mechanics with a design spike and implementation pass.

Purpose: Make Workshop/Maison resets feel more meaningful and integrated.
Output: Approved prestige design changes and updated implementation with tests.
</objective>

<execution_context>
~/.config/opencode/get-shit-done/workflows/execute-phase.md
./summary.md
~/.config/opencode/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@NOTES.md
@.sisyphus/plans/notes-planned-features.md
@src/game/state.ts
@src/game/sim.ts
@src/App.tsx
@tests/maison.unit.test.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Write prestige mechanics design spike</name>
  <files>.planning/phases/12-major-updates-01-21/12-09-DESIGN.md</files>
  <action>Draft a concise design spike detailing the updated prestige mechanics (permanent choices, payoffs, integration with set bonuses/crafting) and include testable acceptance criteria.</action>
  <verify>File exists with mechanics, rewards, and acceptance criteria sections</verify>
  <done>Design spike gives concrete behavior and measurable outcomes.</done>
</task>

<task type="checkpoint:decision" gate="blocking">
  <decision>Approve the prestige design spike</decision>
  <context>Implementation will follow the new prestige rules and rewards defined in the spike, so we need confirmation.</context>
  <options>
    <option id="approve">
      <name>Approve as written</name>
      <pros>Fastest path to implementation</pros>
      <cons>Assumes balance targets are correct</cons>
    </option>
    <option id="revise">
      <name>Revise design spike</name>
      <pros>Allows tuning before implementation</pros>
      <cons>Adds another review iteration</cons>
    </option>
  </options>
  <resume-signal>Select: approve or revise</resume-signal>
</task>

<task type="auto">
  <name>Task 3: Implement prestige improvements</name>
  <files>src/game/state.ts, src/game/sim.ts, src/App.tsx, tests/maison.unit.test.tsx</files>
  <action>Implement the approved prestige updates, adjusting thresholds, reset rewards, and any UI copy. Add/adjust unit tests to validate the new mechanics and ensure existing prestige flows still pass.</action>
  <verify>pnpm run test:unit -- --run tests/maison.unit.test.tsx</verify>
  <done>Prestige mechanics match the approved design with passing tests.</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `pnpm run test:unit`
</verification>

<success_criteria>
- Prestige design spike is approved and stored in 12-09-DESIGN.md
- Updated prestige mechanics are implemented and tested
  </success_criteria>

<output>
After completion, create `.planning/phases/12-major-updates-01-21/12-09-SUMMARY.md`:

# Phase 12 Plan 09 Summary

**Designed and implemented prestige improvements.**

## Accomplishments
- [ ] ...

## Files Created/Modified
- `.planning/phases/12-major-updates-01-21/12-09-DESIGN.md` - ...
- `src/game/state.ts` - ...
- `src/game/sim.ts` - ...
- `src/App.tsx` - ...
- `tests/maison.unit.test.tsx` - ...

## Decisions Made
- [ ] Approved design spike

## Issues Encountered
- None

## Next Step
- Ready for 12-10-PLAN.md
</output>
