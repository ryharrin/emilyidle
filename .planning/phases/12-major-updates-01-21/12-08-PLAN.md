---
phase: 12-major-updates-01-21
plan: 08
type: execute
---

<objective>
Improve the mini-game with a concrete design spike and implementation.

Purpose: Make the watch interaction mini-game more engaging and rewarding.
Output: Design spike doc, approved mechanic updates, and test coverage.
</objective>

<execution_context>
~/.config/opencode/get-shit-done/workflows/execute-phase.md
./summary.md
~/.config/opencode/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/12-major-updates-01-21/12-RESEARCH.md
@.planning/codebase/CONVENTIONS.md
@.planning/codebase/TESTING.md
@NOTES.md
@.sisyphus/plans/notes-planned-features.md
@src/App.tsx
@src/game/state.ts
@tests/catalog.unit.test.tsx
@tests/collection-loop.spec.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Write mini-game design spike</name>
  <files>.planning/phases/12-major-updates-01-21/12-08-DESIGN.md</files>
  <action>Draft a short design spike outlining updated mechanics (reward curve, pacing, skill component), expected rewards, and testable acceptance criteria. Keep it focused on scope that can be implemented in one iteration.</action>
  <verify>File exists with mechanics, rewards, and acceptance criteria sections</verify>
  <done>Design spike provides concrete rules and measurable outcomes.</done>
</task>

<task type="checkpoint:decision" gate="blocking">
  <decision>Approve the mini-game design spike</decision>
  <context>Implementation will follow the mechanics and rewards defined in the spike, so we need confirmation before coding.</context>
  <options>
    <option id="approve">
      <name>Approve as written</name>
      <pros>Fastest path to implementation</pros>
      <cons>Assumes current balance targets are correct</cons>
    </option>
    <option id="revise">
      <name>Revise design spike</name>
      <pros>Allows tuning rewards and pacing before code</pros>
      <cons>Adds another review iteration</cons>
    </option>
  </options>
  <resume-signal>Select: approve or revise</resume-signal>
</task>

<task type="auto">
  <name>Task 3: Implement mini-game improvements</name>
  <files>src/App.tsx, src/game/state.ts, tests/catalog.unit.test.tsx, tests/collection-loop.spec.ts</files>
  <action>Implement the approved design changes for the mini-game, updating UI and manual event logic as needed. Add/adjust unit tests and targeted e2e coverage to validate the new reward behavior and interaction flow.</action>
  <verify>pnpm run test:unit && pnpm run test:e2e -- --project=chromium --grep "wind"</verify>
  <done>Mini-game flow matches the approved design with passing tests.</done>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `pnpm run test:unit`
- [ ] `pnpm run test:e2e`
</verification>

<success_criteria>
- Design spike is approved and stored in 12-08-DESIGN.md
- Mini-game behavior matches the approved mechanics
- Tests validate rewards and interaction flow
  </success_criteria>

<output>
After completion, create `.planning/phases/12-major-updates-01-21/12-08-SUMMARY.md`:

# Phase 12 Plan 08 Summary

**Defined and implemented the updated mini-game mechanics.**

## Accomplishments
- [ ] ...

## Files Created/Modified
- `.planning/phases/12-major-updates-01-21/12-08-DESIGN.md` - ...
- `src/App.tsx` - ...
- `src/game/state.ts` - ...
- `tests/catalog.unit.test.tsx` - ...
- `tests/collection-loop.spec.ts` - ...

## Decisions Made
- [ ] Approved design spike

## Issues Encountered
- None

## Next Step
- Ready for 12-09-PLAN.md
</output>
