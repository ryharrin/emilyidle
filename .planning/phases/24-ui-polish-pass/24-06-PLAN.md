---
phase: 24-ui-polish-pass
plan: 06
type: execute
wave: 3
depends_on: ["24-02", "24-03", "24-04", "24-05"]
files_modified:
  - src/style.css
  - tests/*.spec.ts
autonomous: false

must_haves:
  truths:
    - "All tabs remain navigable with keyboard; focus indication is always visible"
    - "UI remains responsive at narrow widths (panel headers stack, badges donâ€™t overflow)"
    - "Playwright smoke passes with stable selectors"
  artifacts:
    - path: tests
      provides: "Existing unit/e2e coverage to catch selector regressions"
  key_links:
    - from: "App navigation"
      to: "Tab panels"
      via: "ARIA tablist wiring"
      pattern: "role=\"tablist\""
---

<objective>
Run automated smoke checks and perform a single human verification pass for responsiveness, hierarchy, and micro-interactions.

Purpose: Confirm POLISH-01..04 outcomes without shipping selector regressions.
Output: Passing checks + human-verified UI polish.
</objective>

<execution_context>
@~/.config/opencode/get-shit-done/workflows/execute-plan.md
@~/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/24-ui-polish-pass/24-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Run automated smoke checks (lint/typecheck/unit/e2e)</name>
  <files>src/style.css, tests/*.spec.ts</files>
  <action>
Run the standard checks to ensure no regressions:

- `pnpm run lint`
- `pnpm run typecheck`
- `pnpm run test:unit`
- `pnpm run test:e2e`

If Playwright failures occur due to intended layout changes:
- Fix the UI without changing `id` / `data-testid` selectors.
- Only update tests if a selector is truly unavoidable (should not be needed for this phase).
  </action>
  <verify>pnpm run lint && pnpm run typecheck && pnpm run test:unit && pnpm run test:e2e</verify>
  <done>All checks pass; no Playwright selector regressions.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Global polish pass (focus rings, responsive headers, CTA hierarchy, micro-interactions) across all tabs.</what-built>
  <how-to-verify>
    1. Run `pnpm dev` and open `http://localhost:5173`.
    2. Keyboard focus: press Tab through the top nav; ensure focus ring is clearly visible and the selected tab is visually distinct.
    3. Mobile layout: open DevTools device toolbar (or narrow the window to ~375px). Confirm `.panel-header` blocks stack cleanly and `.results-count` badges do not overflow.
    4. Catalog filters: in Catalog tab, confirm filters remain usable and readable on narrow widths.
    5. Progress transitions: in Workshop/Maison/Nostalgia, confirm teaser/progress fills animate smoothly when their percentage changes.
    6. Theme contrast: switch to light theme (use in-app theme toggle if present, or set `document.body.dataset.theme = "light"` in DevTools) and re-check focus rings, selected tabs, and muted text readability; repeat in default theme.
    7. Reduced motion: in Chrome DevTools Rendering panel, emulate `prefers-reduced-motion: reduce`; confirm hover/pressed/progress animations are effectively disabled.
  </how-to-verify>
  <resume-signal>Type "approved" or describe specific UI issues to address.</resume-signal>
</task>

</tasks>

<verification>
- Automated: `pnpm run lint`, `pnpm run typecheck`, `pnpm run test:unit`, `pnpm run test:e2e`
- Human: keyboard focus + mobile layout + reduced motion quick pass
</verification>

<success_criteria>
- POLISH-01: clear hierarchy for stats/CTAs
- POLISH-02: consistent panels/cards/headers across tabs
- POLISH-03: improved contrast and accessible focus indication
- POLISH-04: micro-interactions present with reduced-motion opt-out
</success_criteria>

<output>
After completion, create `.planning/phases/24-ui-polish-pass/24-06-SUMMARY.md`
</output>
