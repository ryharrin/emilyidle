---
phase: 24-ui-polish-pass
plan: 04
type: execute
wave: 2
depends_on: ["24-01"]
files_modified:
  - src/ui/tabs/WorkshopTab.tsx
  - src/ui/tabs/MaisonTab.tsx
  - src/ui/tabs/NostalgiaTab.tsx
autonomous: true

must_haves:
  truths:
    - "Reset/prestige CTAs become visually primary when they are actionable"
    - "Progress and teaser panels remain readable and consistent across prestige tabs"
  artifacts:
    - path: src/ui/tabs/WorkshopTab.tsx
      provides: "Atelier reset panel"
      contains: "data-testid=\"workshop-panel\""
    - path: src/ui/tabs/MaisonTab.tsx
      provides: "Maison prestige panel"
      contains: "data-testid=\"maison-panel\""
    - path: src/ui/tabs/NostalgiaTab.tsx
      provides: "Nostalgia prestige + unlock store"
      contains: "data-testid=\"nostalgia-panel\""
  key_links:
    - from: src/ui/tabs/WorkshopTab.tsx
      to: src/style.css
      via: "primary button default styles"
      pattern: "Reset atelier"
---

<objective>
Polish the prestige/reset tabs so primary actions are clearly emphasized when available, while keeping markup and selectors stable.

Purpose: Deliver POLISH-01/02/04 in the prestige flows that users revisit frequently.
Output: Updated tab components with conditional CTA styling (primary vs secondary) and minor hierarchy tweaks.
</objective>

<execution_context>
@~/.config/opencode/get-shit-done/workflows/execute-plan.md
@~/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/24-ui-polish-pass/24-RESEARCH.md
@src/ui/tabs/WorkshopTab.tsx
@src/ui/tabs/MaisonTab.tsx
@src/ui/tabs/NostalgiaTab.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Make Workshop reset CTA primary when actionable</name>
  <files>src/ui/tabs/WorkshopTab.tsx</files>
  <action>
In the non-armed state for the reset CTA button (“Reset atelier”):

- Change the `className` logic so the button is primary (no `secondary` class) when `canPrestigeWorkshop` is true.
- Keep it `secondary` when `canPrestigeWorkshop` is false (disabled state).
- Do not change `data-testid` attributes, and do not change the confirm/cancel button classes in the armed state.
  </action>
  <verify>pnpm run test:unit</verify>
  <done>When the reset is available, the CTA reads as primary; when unavailable it remains de-emphasized/disabled.</done>
</task>

<task type="auto">
  <name>Task 2: Make Maison prestige CTA primary when actionable</name>
  <files>src/ui/tabs/MaisonTab.tsx</files>
  <action>
Apply the same CTA hierarchy as Workshop:

- For the non-armed “Prestige atelier” button, make it primary when `canPrestigeMaison` is true and secondary when false.
- Keep confirm/cancel styling unchanged.
- Do not change any `data-testid` attributes.
  </action>
  <verify>pnpm run typecheck</verify>
  <done>Maison prestige CTA is visually prominent only when it can be clicked; all selectors remain unchanged.</done>
</task>

<task type="auto">
  <name>Task 3: Ensure Nostalgia primary CTA remains clearly primary while secondary actions stay secondary</name>
  <files>src/ui/tabs/NostalgiaTab.tsx</files>
  <action>
Keep Nostalgia’s primary/secondary split consistent:

- Confirm the main prestige trigger button (`data-testid="nostalgia-prestige"`) remains primary (no `secondary` class).
- Ensure dismissal/back buttons remain `secondary`.
- Do not change the modal structures or any `data-testid` values.
  </action>
  <verify>pnpm run test:unit</verify>
  <done>Nostalgia primary CTA remains primary; supporting actions remain secondary; no selector changes.</done>
</task>

</tasks>

<verification>
- `pnpm run typecheck`
- `pnpm run test:unit`
</verification>

<success_criteria>
- Reset/prestige CTAs have clear hierarchy (POLISH-01)
- Prestige panels retain consistent card/panel styling (POLISH-02)
- Primary actions benefit from global micro-interactions (POLISH-04)
</success_criteria>

<output>
After completion, create `.planning/phases/24-ui-polish-pass/24-04-SUMMARY.md`
</output>
