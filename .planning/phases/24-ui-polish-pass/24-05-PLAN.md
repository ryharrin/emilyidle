---
phase: 24-ui-polish-pass
plan: 05
type: execute
wave: 2
depends_on: ["24-01"]
files_modified:
  - src/ui/tabs/CatalogTab.tsx
  - src/ui/tabs/StatsTab.tsx
  - src/ui/tabs/SaveTab.tsx
  - src/style.css
autonomous: true

must_haves:
  truths:
    - "Catalog filters and headers stay usable and readable on mobile widths"
    - "Stats metrics grid is styled consistently via .stats-grid"
    - "Save tab has clear hierarchy for export/import and preferences"
  artifacts:
    - path: src/ui/tabs/CatalogTab.tsx
      provides: "Catalog filters and results surfaces"
      contains: "data-testid=\"catalog-filters\""
    - path: src/ui/tabs/StatsTab.tsx
      provides: "Stats metric grid"
      contains: "className=\"stats-grid\""
    - path: src/ui/tabs/SaveTab.tsx
      provides: "Export/import + preferences UI"
      contains: "id=\"import-save-text\""
  key_links:
    - from: src/ui/tabs/SaveTab.tsx
      to: src/style.css
      via: "focus-visible styling for textarea/select"
      pattern: "#import-save-text"
---

<objective>
Polish the supporting tabs (Catalog, Stats, Save) for consistent hierarchy and responsiveness using low-risk markup/class tweaks.

Purpose: Deliver POLISH-01/02/03 across secondary tabs without breaking test selectors.
Output: Updated tab panels with clearer headings and CTA emphasis, retaining all ids/testids.
</objective>

<execution_context>
@~/.config/opencode/get-shit-done/workflows/execute-plan.md
@~/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/24-ui-polish-pass/24-RESEARCH.md
@src/ui/tabs/CatalogTab.tsx
@src/ui/tabs/StatsTab.tsx
@src/ui/tabs/SaveTab.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Improve Save tab hierarchy (export vs import vs preferences)</name>
  <files>src/ui/tabs/SaveTab.tsx</files>
  <action>
Reshape the Save panel header and CTAs without changing stable selectors:

- Replace the bare `<h2>Save</h2>` with a standard header block using existing primitives:
  - Add `<header className="panel-header">` with an eyebrow, a title, and a muted description.
  - Keep the surrounding `<section className="panel" id="save" ...>` unchanged.
- Make Export read as a secondary action:
  - Add `className="secondary"` to the Export button.
- Keep Import as the primary action (leave it as default button styling).

Constraints:
- Do not change `id="save"`, `id="import-save-text"`, `id="save-status"`, or any `data-testid` attributes.
  </action>
  <verify>pnpm run test:unit</verify>
  <done>Save tab has a consistent header, Export is clearly secondary, Import remains primary, and all ids/testids are unchanged.</done>
</task>

<task type="auto">
  <name>Task 2: Align Stats tab header with panel conventions (without changing metrics/testids)</name>
  <files>src/ui/tabs/StatsTab.tsx</files>
  <action>
Keep Stats content stable but improve hierarchy:

- Add a `panel-header` at the top of the Stats panel with eyebrow + title + muted description.
- Keep the `dl` with `data-testid="stats-metrics"` and all metric `data-testid` values unchanged.
- Do not change the `dl` className (`stats-grid`) — it is now expected to be styled from Plan 24-01.
  </action>
  <verify>pnpm run typecheck</verify>
  <done>Stats tab has consistent header styling, and the metrics grid/test selectors remain unchanged.</done>
</task>

<task type="auto">
  <name>Task 3: Tighten Catalog panel structure without touching filter/control selectors</name>
  <files>src/ui/tabs/CatalogTab.tsx
src/style.css</files>
  <action>
 Make catalog surfaces more consistent by light-touch adjustments and a mobile-specific CSS tweak:

- Keep all `id` and `data-testid` attributes unchanged (especially filter control ids like `catalog-search`, and `data-testid="catalog-filters"`).
- Ensure the top header and the “Archive shelf” header both use `panel-header` and contain a muted description plus `results-count` badge (they already do) — only adjust heading levels or wrapper elements if needed for consistent hierarchy.
- Do not change the catalog ownership tab ids (`catalog-unowned-tab`, `catalog-owned-tab`) or their ARIA wiring.

Responsive tweak in `src/style.css` (mobile widths <= 640px):
- Ensure `.catalog-filters` stacks cleanly by switching to a single-column layout (`grid-template-columns: 1fr` or `flex-direction: column`).
- Keep `.filter-field` spacing consistent with the global `gap` rhythm.
  </action>
  <verify>pnpm run test:unit</verify>
  <done>Catalog remains fully functional, readable on mobile, and all filter/test selectors remain unchanged.</done>
</task>

</tasks>

<verification>
- `pnpm run typecheck`
- `pnpm run test:unit`
</verification>

<success_criteria>
- Supporting tabs match the same header/card styling vocabulary (POLISH-02)
- Readability/accessibility improved via consistent hierarchy + focus styles (POLISH-03)
</success_criteria>

<output>
After completion, create `.planning/phases/24-ui-polish-pass/24-05-SUMMARY.md`
</output>
